(function(e){function t(t){for(var r,c,a=t[0],s=t[1],u=t[2],d=0,f=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/calculator/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09cf":function(e,t,n){},"193a":function(e,t,n){"use strict";n("09cf")},3102:function(e,t,n){},"3be3":function(e,t,n){},"4c5e":function(e,t,n){e.exports=n.p+"img/equal.c99bf209.svg"},"4e11":function(e,t,n){"use strict";n("3102")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={class:"el-page"},i=Object(r["g"])(" Калькулятор:"),c=Object(r["g"])(" Расчеты:");function a(e,t,n,a,s,u){var l=Object(r["o"])("calculator"),d=Object(r["o"])("el-page-item"),f=Object(r["o"])("results");return Object(r["j"])(),Object(r["e"])("div",o,[Object(r["h"])(d,null,{title:Object(r["q"])((function(){return[i]})),default:Object(r["q"])((function(){return[Object(r["h"])(l,{fractions:s.fractions,isIncorrectExpression:u.isIncorrectExpression,resultExpression:u.resultExpression,onAddFraction:u.addFraction,onRemoveFraction:u.removeFraction,onSaveExpression:u.saveExpression,onUpdateFraction:u.updateFraction},null,8,["fractions","isIncorrectExpression","resultExpression","onAddFraction","onRemoveFraction","onSaveExpression","onUpdateFraction"])]})),_:1}),Object(r["h"])(d,{class:"el-page__item"},{title:Object(r["q"])((function(){return[c]})),default:Object(r["q"])((function(){return[Object(r["h"])(f,{expressions:s.expressions,isIncorrectExpression:u.isIncorrectExpression,onRemoveExpression:u.removeExpression},null,8,["expressions","isIncorrectExpression","onRemoveExpression"])]})),_:1})])}var s=n("5530"),u=n("2909");n("d3b7"),n("a9e3"),n("b680"),n("99af"),n("d81d"),n("4de4"),n("e9c4"),n("caad"),n("2532"),n("25f0"),n("ac1f"),n("5319");function l(e,t){return t?l(t,e%t):e}function d(e){if(e==parseInt(e))return{left:parseInt(e),top:parseInt(e),bottom:1,display:parseInt(e)+"/1"};var t=e.toString().includes(".")?e.toString().replace(/\d+[.]/,""):0,n=Math.pow(10,t.toString().replace("-","").length),r=e.toString().includes(".")?e.toString().substring(0,e.toString().indexOf(".")):0;e>=1?t=+t:e<=-1&&(t=+t+Math.ceil(e));var o=Math.abs(l(t,n));return{left:r,top:t/o,bottom:n/o,display:t/o+"/"+n/o}}var f={class:"el-page-item"},p={class:"el-page-item__title"},b={class:"el-page-item__content"};function j(e,t,n,o,i,c){return Object(r["j"])(),Object(r["e"])("div",f,[Object(r["f"])("div",p,[Object(r["n"])(e.$slots,"title")]),Object(r["f"])("div",b,[Object(r["n"])(e.$slots,"default")])])}var m={name:"ElPageItem"},O=(n("7d2f"),n("6b0d")),v=n.n(O);const h=v()(m,[["render",j]]);var x=h,g=(n("b64b"),n("8a37")),y=n.n(g),_=n("4c5e"),F=n.n(_),E=n("8bbe"),S=n.n(E),k={class:"el-calculator"},I={class:"el-calculator__expression"},w={key:0,class:"el-calculator__plus-icon"},N=Object(r["f"])("img",{src:y.a},null,-1),B=[N],$=Object(r["f"])("span",{class:"el-calculator__equal-icon"},[Object(r["f"])("img",{src:F.a})],-1),q={key:0},C=Object(r["f"])("img",{src:S.a},null,-1),D=[C],R=Object(r["g"])("Добавить дробь"),P=Object(r["g"])("Сохранить расчеты");function U(e,t,n,o,i,c){var a=Object(r["o"])("fraction"),s=Object(r["o"])("el-button");return Object(r["j"])(),Object(r["e"])("div",k,[Object(r["f"])("div",I,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(n.fractions,(function(e,t){return Object(r["j"])(),Object(r["e"])("div",{key:e.id,class:"el-calculator__fraction"},[Object(r["h"])(a,{data:e,removable:c.isFractionsRemovable,onRemoveFraction:c.removeFraction,onUpdateFraction:c.updateFraction},null,8,["data","removable","onRemoveFraction","onUpdateFraction"]),t!=Object.keys(n.fractions).length-1?(Object(r["j"])(),Object(r["e"])("span",w,B)):Object(r["d"])("",!0)])})),128)),$,n.isIncorrectExpression?(Object(r["j"])(),Object(r["e"])("span",q,D)):(Object(r["j"])(),Object(r["c"])(a,{key:1,data:n.resultExpression,removable:!1,state:"view",disabled:""},null,8,["data"]))]),Object(r["f"])("div",null,[Object(r["h"])(s,{class:"el-calculator__add-fraction",onClick:c.addFraction,disabled:c.isAddButtonDisable,dashed:""},{default:Object(r["q"])((function(){return[R]})),_:1},8,["onClick","disabled"]),Object(r["h"])(s,{class:"el-calculator__save-fraction",onClick:c.saveExpression},{default:Object(r["q"])((function(){return[P]})),_:1},8,["onClick"])])])}var A=n("7e18"),M=n.n(A),J={class:"el-fraction"},T={class:"el-fraction__remove"},K=Object(r["f"])("img",{src:M.a},null,-1),z=[K],G={class:"el-fraction__body"},H={key:0,class:"el-fraction__left"},L={key:1,class:"el-fraction__right"},Q=Object(r["f"])("hr",{class:"el-fraction__delimiter"},null,-1);function V(e,t,n,o,i,c){var a=Object(r["o"])("el-input");return Object(r["j"])(),Object(r["e"])("div",J,[Object(r["f"])("div",T,[n.removable?(Object(r["j"])(),Object(r["e"])("div",{key:0,onClick:t[0]||(t[0]=function(){return c.removeFraction&&c.removeFraction.apply(c,arguments)})},z)):Object(r["d"])("",!0)]),Object(r["f"])("div",G,[c.isShowDec?(Object(r["j"])(),Object(r["e"])("div",H,Object(r["p"])(this.data.dec),1)):Object(r["d"])("",!0),c.isShowFraction?(Object(r["j"])(),Object(r["e"])("div",L,[Object(r["h"])(a,{disabled:n.disabled,value:c.numerator,onUpdate:c.updateNumerator,placeholder:"00"},null,8,["disabled","value","onUpdate"]),Q,Object(r["h"])(a,{disabled:n.disabled,value:c.denominator,onUpdate:c.updateDenominator,placeholder:"00"},null,8,["disabled","value","onUpdate"])])):Object(r["d"])("",!0)])])}var W=["placeholder","value","disabled"];function X(e,t,n,o,i,c){return Object(r["j"])(),Object(r["e"])("input",{maxlength:2,placeholder:n.placeholder,onKeypress:t[0]||(t[0]=function(){return c.onlyNumber&&c.onlyNumber.apply(c,arguments)}),class:"el-input",type:"text",onInput:t[1]||(t[1]=function(){return c.handleInput&&c.handleInput.apply(c,arguments)}),value:n.value,disabled:n.disabled},null,40,W)}var Y={name:"ElInput",props:{placeholder:{type:String,default:""},value:{type:[Number,String],default:0},disabled:{type:Boolean,default:function(){return!1}}},methods:{handleInput:function(e){this.$emit("update",e.target.value)},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()}}};n("8f72");const Z=v()(Y,[["render",X],["__scopeId","data-v-053931e7"]]);var ee=Z,te={name:"fraction",components:{ElInput:ee},props:{data:{type:Object,default:function(){return{id:0,dec:0,numerator:0,denominator:0}}},removable:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},state:{type:String,default:function(){return"edit"}}},computed:{isShowDec:function(){return this.data.dec>0},isShowFraction:function(){return"view"===this.state&&this.denominator>1||"edit"===this.state},numerator:function(){return this.data.numerator},denominator:function(){return this.data.denominator}},methods:{updateNumerator:function(e){this.$emit("updateFraction",{id:this.data.id,numerator:e})},updateDenominator:function(e){this.$emit("updateFraction",{id:this.data.id,denominator:e})},removeFraction:function(){this.$emit("removeFraction",this.data.id)}}};n("da3f");const ne=v()(te,[["render",V]]);var re=ne,oe=["disabled"];function ie(e,t,n,o,i,c){return Object(r["j"])(),Object(r["e"])("button",{class:Object(r["i"])(["el-button",{"el-button--dashed":n.dashed}]),disabled:n.disabled},[Object(r["n"])(e.$slots,"default",{},void 0,!0)],10,oe)}var ce={name:"ElButton",props:{dashed:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}};n("c257");const ae=v()(ce,[["render",ie],["__scopeId","data-v-76af7122"]]);var se=ae,ue={name:"Calculator",components:{ElButton:se,Fraction:re},props:{fractions:{type:Array,default:function(){return[]}},isIncorrectExpression:{type:Boolean,default:!1},resultExpression:{type:Object,default:function(){return{}}}},computed:{isAddButtonDisable:function(){return this.fractions.length>=5},isFractionsRemovable:function(){return this.fractions.length>2}},methods:{addFraction:function(){this.$emit("addFraction")},removeFraction:function(e){this.$emit("removeFraction",e)},updateFraction:function(e){this.$emit("updateFraction",e)},saveExpression:function(){this.$emit("saveExpression")}}};n("bdee");const le=v()(ue,[["render",U]]);var de=le,fe={class:"el-results"},pe={key:0},be={class:"el-results__item-expression"},je={key:0,class:"el-results__icon-plus"},me=Object(r["f"])("img",{src:y.a},null,-1),Oe=[me],ve=Object(r["f"])("span",{class:"el-results__icon-equal"},[Object(r["f"])("img",{src:F.a})],-1),he={key:0},xe=Object(r["f"])("img",{src:S.a},null,-1),ge=[xe],ye=Object(r["g"])(" Удалить "),_e={key:1,class:"el-results__empty"};function Fe(e,t,n,o,i,c){var a=Object(r["o"])("fraction"),s=Object(r["o"])("el-button");return Object(r["j"])(),Object(r["e"])("div",fe,[c.isExpressions?(Object(r["j"])(),Object(r["e"])("div",pe,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(n.expressions,(function(e){return Object(r["j"])(),Object(r["e"])("div",{key:e.id,class:"el-results__item"},[Object(r["f"])("div",be,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(e.fractions,(function(t,n){return Object(r["j"])(),Object(r["e"])("div",{key:t.id,class:"el-results__fraction"},[Object(r["h"])(a,{data:t,disabled:""},null,8,["data"]),n!=Object.keys(e.fractions).length-1?(Object(r["j"])(),Object(r["e"])("span",je,Oe)):Object(r["d"])("",!0)])})),128)),ve,e.result?(Object(r["j"])(),Object(r["c"])(a,{key:1,data:e.result,disabled:"",state:"view"},null,8,["data"])):(Object(r["j"])(),Object(r["e"])("span",he,ge))]),Object(r["h"])(s,{onClick:function(t){return c.removeFractionFromSaved(e.id)},class:"el-results__item-remove",dashed:""},{default:Object(r["q"])((function(){return[ye]})),_:2},1032,["onClick"])])})),128))])):(Object(r["j"])(),Object(r["e"])("div",_e,"Тут будут расчеты"))])}var Ee={name:"Results",components:{ElButton:se,Fraction:re},props:{expressions:{type:Array,default:function(){return[]}},isIncorrectExpression:{type:Boolean,default:!1}},computed:{isExpressions:function(){return this.expressions.length>0}},methods:{removeFractionFromSaved:function(e){this.$emit("removeExpression",e)}}};n("4e11");const Se=v()(Ee,[["render",Fe]]);var ke=Se,Ie={name:"App",data:function(){return{expressions:[],fractions:[{id:new Date,numerator:"",denominator:""},{id:new Date,numerator:"",denominator:""}]}},components:{Results:ke,Calculator:de,ElPageItem:x},computed:{isIncorrectExpression:function(){return this.fractions.some((function(e){return!Number(e.denominator)||!Number(e.numerator)}))},resultExpression:function(){var e=this.fractions.reduce((function(e,t){return t.denominator?e+Number(t.numerator)/Number(t.denominator):e}),0).toFixed(2);return{numerator:d(e).top,denominator:d(e).bottom,dec:d(e).left}}},methods:{addFraction:function(){this.fractions.length>=5||(this.fractions=[].concat(Object(u["a"])(this.fractions),[{id:new Date,numerator:"",denominator:""}]))},updateFraction:function(e){this.fractions=this.fractions.map((function(t){return t.id==e.id&&(t=Object(s["a"])(Object(s["a"])({},t),e)),t}))},removeFraction:function(e){this.fractions=this.fractions.filter((function(t){return t.id!=e}))},saveExpression:function(){this.expressions=[].concat(Object(u["a"])(this.expressions),[{id:new Date,fractions:Object(u["a"])(this.fractions),result:this.isIncorrectExpression?null:Object(s["a"])({},this.resultExpression)}]),localStorage.expressions=JSON.stringify(this.expressions)},removeExpression:function(e){this.expressions=this.expressions.filter((function(t){return t.id!=e})),localStorage.expressions=JSON.stringify(this.expressions)}},mounted:function(){this.expressions=null!=localStorage.expressions?JSON.parse(localStorage.expressions):[]}};n("193a");const we=v()(Ie,[["render",a]]);var Ne=we;Object(r["b"])(Ne).mount("#app")},6116:function(e,t,n){},"7d2f":function(e,t,n){"use strict";n("d43d")},"7e18":function(e,t,n){e.exports=n.p+"img/remove.727994ff.svg"},"8a37":function(e,t,n){e.exports=n.p+"img/plus.09fad1f0.svg"},"8bbe":function(e,t,n){e.exports=n.p+"img/question.768b506b.svg"},"8f72":function(e,t,n){"use strict";n("c743")},bdee:function(e,t,n){"use strict";n("6116")},c257:function(e,t,n){"use strict";n("3be3")},c743:function(e,t,n){},c91a:function(e,t,n){},d43d:function(e,t,n){},da3f:function(e,t,n){"use strict";n("c91a")}});
//# sourceMappingURL=app.77e1472a.js.map