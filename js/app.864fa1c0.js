(function(e){function t(t){for(var o,c,i=t[0],s=t[1],u=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/calculator/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00a0":function(e,t,n){"use strict";n("c841")},2063:function(e,t,n){"use strict";n("9013")},2182:function(e,t,n){},"2ad4":function(e,t,n){},"3a8d":function(e,t,n){},"4c5e":function(e,t,n){e.exports=n.p+"img/equal.c99bf209.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a={class:"el-page"},r=Object(o["f"])(" Калькулятор:"),c=Object(o["f"])(" Расчеты:");function i(e,t,n,i,s,u){var l=Object(o["n"])("calculator"),d=Object(o["n"])("el-page-item"),f=Object(o["n"])("results");return Object(o["i"])(),Object(o["d"])("div",a,[Object(o["g"])(d,null,{title:Object(o["p"])((function(){return[r]})),default:Object(o["p"])((function(){return[Object(o["g"])(l,{fractions:s.fractions,results:u.results,onAddFraction:u.addFraction,onRemoveFraction:u.removeFraction,onSaveFractions:u.saveFractions,onUpdateFraction:u.update},null,8,["fractions","results","onAddFraction","onRemoveFraction","onSaveFractions","onUpdateFraction"])]})),_:1}),Object(o["g"])(d,{class:"el-page__item"},{title:Object(o["p"])((function(){return[c]})),default:Object(o["p"])((function(){return[Object(o["g"])(f,{expressions:s.expressions,onRemoveExpression:u.removeExpression},null,8,["expressions","onRemoveExpression"])]})),_:1})])}var s=n("5530"),u=n("2909");n("b680"),n("d3b7"),n("99af"),n("e9c4"),n("4de4"),n("d81d"),n("caad"),n("2532"),n("25f0"),n("ac1f"),n("5319");function l(e,t){return t?l(t,e%t):e}function d(e){if(e==parseInt(e))return console.log(e),{left:parseInt(e),top:parseInt(e),bottom:1,display:parseInt(e)+"/1"};console.log(e);var t=e.toString().includes(".")?e.toString().replace(/\d+[.]/,""):0,n=Math.pow(10,t.toString().replace("-","").length),o=e.toString().includes(".")?e.toString().substring(0,e.toString().indexOf(".")):0;console.log(o),e>=1?t=+t:e<=-1&&(t=+t+Math.ceil(e));var a=Math.abs(l(t,n));return{left:o,top:t/a,bottom:n/a,display:t/a+"/"+n/a}}var f={class:"el-page-item"},b={class:"el-page-item__title"},p={class:"el-page-item__content"};function O(e,t,n,a,r,c){return Object(o["i"])(),Object(o["d"])("div",f,[Object(o["e"])("div",b,[Object(o["m"])(e.$slots,"title",{},void 0,!0)]),Object(o["e"])("div",p,[Object(o["m"])(e.$slots,"default",{},void 0,!0)])])}var v={name:"ElPageItem"},j=(n("b9e8"),n("6b0d")),m=n.n(j);const h=m()(v,[["render",O],["__scopeId","data-v-bf95de16"]]);var g=h,_=(n("b64b"),n("8a37")),y=n.n(_),x=n("4c5e"),F=n.n(x),k=function(e){return Object(o["k"])("data-v-a6a52a5a"),e=e(),Object(o["j"])(),e},S={class:"el-calculator"},w={class:"el-calculator__expression"},I={key:0,class:"el-calculator__plus-icon"},E=k((function(){return Object(o["e"])("img",{src:y.a},null,-1)})),$=[E],C=k((function(){return Object(o["e"])("span",{class:"el-calculator__equal-icon"},[Object(o["e"])("img",{src:F.a})],-1)})),R=Object(o["f"])("Добавить дробь"),D=Object(o["f"])("Сохранить расчеты");function P(e,t,n,a,r,c){var i=Object(o["n"])("fraction"),s=Object(o["n"])("el-button");return Object(o["i"])(),Object(o["d"])("div",S,[Object(o["e"])("div",w,[(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(n.fractions,(function(e,t){return Object(o["i"])(),Object(o["d"])("div",{key:e.id,class:"el-calculator__fraction"},[Object(o["g"])(i,{data:e,removable:c.isFractionsRemovable,onRemove:c.removeFraction,onUpdate:c.update},null,8,["data","removable","onRemove","onUpdate"]),t!=Object.keys(n.fractions).length-1?(Object(o["i"])(),Object(o["d"])("span",I,$)):Object(o["c"])("",!0)])})),128)),C,Object(o["g"])(i,{data:n.results,removable:!1,disabled:"",state:"view"},null,8,["data"])]),Object(o["e"])("div",null,[Object(o["g"])(s,{class:"el-calculator__add-fraction",onClick:c.addFraction,dashed:""},{default:Object(o["p"])((function(){return[R]})),_:1},8,["onClick"]),Object(o["g"])(s,{class:"el-calculator__save-fraction",onClick:c.saveFractions},{default:Object(o["p"])((function(){return[D]})),_:1},8,["onClick"])])])}var U=n("7e18"),B=n.n(U),M=function(e){return Object(o["k"])("data-v-fd3028ec"),e=e(),Object(o["j"])(),e},N={class:"el-fraction"},J={class:"el-fraction__remove"},q=M((function(){return Object(o["e"])("img",{src:B.a},null,-1)})),A=[q],T={class:"el-fraction__body"},K={key:0,class:"el-fraction__left"},z={key:1,class:"el-fraction__right"},G=M((function(){return Object(o["e"])("hr",{class:"el-fraction__delimiter"},null,-1)})),H={key:2};function L(e,t,n,a,r,c){var i=Object(o["n"])("el-input");return Object(o["i"])(),Object(o["d"])("div",N,[Object(o["e"])("div",J,[n.removable?(Object(o["i"])(),Object(o["d"])("div",{key:0,onClick:t[0]||(t[0]=function(){return c.removeFraction&&c.removeFraction.apply(c,arguments)})},A)):Object(o["c"])("",!0)]),Object(o["e"])("div",T,[this.data.dec>0?(Object(o["i"])(),Object(o["d"])("div",K,Object(o["o"])(this.data.dec),1)):Object(o["c"])("",!0),c.isShowFraction?(Object(o["i"])(),Object(o["d"])("div",z,[Object(o["g"])(i,{disabled:n.disabled,value:c.numerator,onUpdate:c.updateDenominator,placeholder:"00"},null,8,["disabled","value","onUpdate"]),G,Object(o["g"])(i,{disabled:n.disabled,value:c.denominator,onUpdate:c.updateDivider,placeholder:"00"},null,8,["disabled","value","onUpdate"])])):(Object(o["i"])(),Object(o["d"])("div",H," ? "))])])}var Q=["placeholder","value","disabled"];function V(e,t,n,a,r,c){return Object(o["i"])(),Object(o["d"])("input",{maxlength:2,placeholder:n.placeholder,onKeypress:t[0]||(t[0]=function(){return c.onlyNumber&&c.onlyNumber.apply(c,arguments)}),class:"el-input",type:"text",onInput:t[1]||(t[1]=function(){return c.handleInput&&c.handleInput.apply(c,arguments)}),value:n.value,disabled:n.disabled},null,40,Q)}n("a9e3");var W={name:"ElInput",props:{placeholder:{type:String,default:""},value:{type:[Number,String],default:0},disabled:{type:Boolean,default:function(){return!1}}},methods:{handleInput:function(e){this.$emit("update",e.target.value)},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t&&e.preventDefault()}}};n("c453");const X=m()(W,[["render",V],["__scopeId","data-v-184bd947"]]);var Y=X,Z={name:"fraction",components:{ElInput:Y},props:{data:{type:Object,default:function(){return{id:0,numerator:0,denominator:0,dec:0}}},removable:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},state:{type:String,default:function(){return"edit"}}},computed:{isShowFraction:function(){return"view"==this.state&&this.denominator>1||"edit"==this.state},numerator:function(){return this.data.numerator},denominator:function(){return this.data.denominator}},methods:{updateDenominator:function(e){this.$emit("update",{id:this.data.id,numerator:e})},updateDivider:function(e){this.$emit("update",{id:this.data.id,denominator:e})},removeFraction:function(){this.$emit("remove",this.data.id)}}};n("e396");const ee=m()(Z,[["render",L],["__scopeId","data-v-fd3028ec"]]);var te=ee;function ne(e,t,n,a,r,c){return Object(o["i"])(),Object(o["d"])("button",{class:Object(o["h"])(["el-button",{"el-button--dashed":n.dashed}])},[Object(o["m"])(e.$slots,"default",{},void 0,!0)],2)}var oe={name:"ElButton",props:{dashed:{type:Boolean,default:!1}}};n("6f8b");const ae=m()(oe,[["render",ne],["__scopeId","data-v-190be52f"]]);var re=ae,ce={name:"Calculator",components:{ElButton:re,Fraction:te},props:["fractions","results"],computed:{isFractionsRemovable:function(){return this.fractions.length>2}},methods:{addFraction:function(){this.$emit("addFraction")},saveFractions:function(){this.$emit("saveFractions")},removeFraction:function(e){this.$emit("removeFraction",e)},update:function(e){this.$emit("updateFraction",e)}}};n("00a0");const ie=m()(ce,[["render",P],["__scopeId","data-v-a6a52a5a"]]);var se=ie,ue=function(e){return Object(o["k"])("data-v-a40e1d00"),e=e(),Object(o["j"])(),e},le={class:"el-results"},de={key:0},fe={class:"el-results__item-expression"},be={key:0,class:"el-results__icon-plus"},pe=ue((function(){return Object(o["e"])("img",{src:y.a},null,-1)})),Oe=[pe],ve=ue((function(){return Object(o["e"])("span",{class:"el-results__icon-equal"},[Object(o["e"])("img",{src:F.a})],-1)})),je=Object(o["f"])(" Удалить "),me={key:1};function he(e,t,n,a,r,c){var i=Object(o["n"])("fraction"),s=Object(o["n"])("el-button");return Object(o["i"])(),Object(o["d"])("div",le,[n.expressions.length>0?(Object(o["i"])(),Object(o["d"])("div",de,[(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(n.expressions,(function(e){return Object(o["i"])(),Object(o["d"])("div",{key:e.id,class:"el-results__item"},[Object(o["e"])("div",fe,[(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(e.fractions,(function(t,n){return Object(o["i"])(),Object(o["d"])("div",{key:t.id,class:"el-results__fraction"},[Object(o["g"])(i,{data:t,disabled:""},null,8,["data"]),n!=Object.keys(e.fractions).length-1?(Object(o["i"])(),Object(o["d"])("span",be,Oe)):Object(o["c"])("",!0)])})),128)),ve,Object(o["g"])(i,{data:e.result,disabled:"",state:"view"},null,8,["data"])]),Object(o["g"])(s,{onClick:function(t){return c.removeFractionFromSaved(e.id)},class:"el-results__item-remove",dashed:""},{default:Object(o["p"])((function(){return[je]})),_:2},1032,["onClick"])])})),128))])):(Object(o["i"])(),Object(o["d"])("div",me,"Тут будут расчеты"))])}var ge={name:"Results",components:{ElButton:re,Fraction:te},props:["expressions","results"],methods:{removeFractionFromSaved:function(e){this.$emit("removeExpression",e)}}};n("e219");const _e=m()(ge,[["render",he],["__scopeId","data-v-a40e1d00"]]);var ye=_e,xe={name:"App",data:function(){return{expressions:[],fractions:[{id:new Date,numerator:"",denominator:""},{id:new Date,numerator:"",denominator:""}]}},components:{Results:ye,Calculator:se,ElPageItem:g},computed:{results:function(){var e=1*this.fractions.reduce((function(e,t){return 0==t.denominator?e:e+t.numerator/t.denominator}),0).toFixed(2);return{numerator:d(e).top,denominator:d(e).bottom,dec:d(e).left}}},methods:{addFraction:function(){this.fractions.length>=5||(this.fractions=[].concat(Object(u["a"])(this.fractions),[{id:new Date,numerator:"",denominator:""}]))},saveFractions:function(){this.expressions=[].concat(Object(u["a"])(this.expressions),[{id:new Date,fractions:Object(u["a"])(this.fractions),result:Object(s["a"])({},this.results)}]),localStorage.expressions=JSON.stringify(this.expressions)},removeFraction:function(e){this.fractions=this.fractions.filter((function(t){return t.id!=e}))},removeExpression:function(e){this.expressions=this.expressions.filter((function(t){return t.id!=e})),localStorage.expressions=JSON.stringify(this.expressions)},update:function(e){this.fractions=this.fractions.map((function(t){return t.id==e.id&&(t=Object(s["a"])(Object(s["a"])({},t),e)),t}))}},mounted:function(){this.expressions=null!=localStorage.expressions?JSON.parse(localStorage.expressions):[]}};n("2063");const Fe=m()(xe,[["render",i]]);var ke=Fe;Object(o["b"])(ke).mount("#app")},"6f8b":function(e,t,n){"use strict";n("f608")},"7e18":function(e,t,n){e.exports=n.p+"img/remove.727994ff.svg"},"8a37":function(e,t,n){e.exports=n.p+"img/plus.09fad1f0.svg"},9013:function(e,t,n){},b9e8:function(e,t,n){"use strict";n("2ad4")},c453:function(e,t,n){"use strict";n("ea69")},c841:function(e,t,n){},e219:function(e,t,n){"use strict";n("2182")},e396:function(e,t,n){"use strict";n("3a8d")},ea69:function(e,t,n){},f608:function(e,t,n){}});
//# sourceMappingURL=app.864fa1c0.js.map