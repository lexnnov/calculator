(function(e){function t(t){for(var r,i,a=t[0],s=t[1],l=t[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/calculator/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0f22":function(e,t,n){"use strict";n("c252")},2147:function(e,t,n){"use strict";n("59dd")},"3be3":function(e,t,n){},"4c5e":function(e,t,n){e.exports=n.p+"img/equal.c99bf209.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={class:"el-page"},c=Object(r["g"])(" Калькулятор:"),i=Object(r["g"])(" Расчеты:");function a(e,t,n,a,s,l){var u=Object(r["o"])("calculator"),d=Object(r["o"])("el-page-item"),f=Object(r["o"])("results");return Object(r["j"])(),Object(r["e"])("div",o,[Object(r["h"])(d,null,{title:Object(r["q"])((function(){return[c]})),default:Object(r["q"])((function(){return[Object(r["h"])(u,{fractions:s.fractions,isIncorrectExpression:l.isIncorrectExpression,resultExpression:l.resultExpression,onAddFraction:l.addFraction,onRemoveFraction:l.removeFraction,onSaveExpression:l.saveExpression,onUpdateFraction:l.updateFraction},null,8,["fractions","isIncorrectExpression","resultExpression","onAddFraction","onRemoveFraction","onSaveExpression","onUpdateFraction"])]})),_:1}),Object(r["h"])(d,{class:"el-page__item"},{title:Object(r["q"])((function(){return[i]})),default:Object(r["q"])((function(){return[Object(r["h"])(f,{expressions:s.expressions,isIncorrectExpression:l.isIncorrectExpression,onRemoveExpression:l.removeExpression},null,8,["expressions","isIncorrectExpression","onRemoveExpression"])]})),_:1})])}var s=n("5530"),l=n("2909");n("d3b7"),n("a9e3"),n("b680"),n("99af"),n("d81d"),n("4de4"),n("e9c4"),n("caad"),n("2532"),n("25f0"),n("ac1f"),n("5319");function u(e,t){return t?u(t,e%t):e}function d(e){if(e==parseInt(e))return console.log(e),{left:parseInt(e),top:parseInt(e),bottom:1,display:parseInt(e)+"/1"};console.log(e);var t=e.toString().includes(".")?e.toString().replace(/\d+[.]/,""):0,n=Math.pow(10,t.toString().replace("-","").length),r=e.toString().includes(".")?e.toString().substring(0,e.toString().indexOf(".")):0;console.log(r),e>=1?t=+t:e<=-1&&(t=+t+Math.ceil(e));var o=Math.abs(u(t,n));return{left:r,top:t/o,bottom:n/o,display:t/o+"/"+n/o}}var f={class:"el-page-item"},p={class:"el-page-item__title"},b={class:"el-page-item__content"};function j(e,t,n,o,c,i){return Object(r["j"])(),Object(r["e"])("div",f,[Object(r["f"])("div",p,[Object(r["n"])(e.$slots,"title")]),Object(r["f"])("div",b,[Object(r["n"])(e.$slots,"default")])])}var m={name:"ElPageItem"},O=(n("e58b"),n("6b0d")),v=n.n(O);const h=v()(m,[["render",j]]);var x=h,y=(n("b64b"),n("8a37")),g=n.n(y),_=n("4c5e"),F=n.n(_),E={class:"el-calculator"},S={class:"el-calculator__expression"},k={key:0,class:"el-calculator__plus-icon"},I=Object(r["f"])("img",{src:g.a},null,-1),w=[I],N=Object(r["f"])("span",{class:"el-calculator__equal-icon"},[Object(r["f"])("img",{src:F.a})],-1),B={key:0},$=Object(r["g"])("Добавить дробь"),C=Object(r["g"])("Сохранить расчеты");function D(e,t,n,o,c,i){var a=Object(r["o"])("fraction"),s=Object(r["o"])("el-button");return Object(r["j"])(),Object(r["e"])("div",E,[Object(r["f"])("div",S,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(n.fractions,(function(e,t){return Object(r["j"])(),Object(r["e"])("div",{key:e.id,class:"el-calculator__fraction"},[Object(r["h"])(a,{data:e,removable:i.isFractionsRemovable,onRemoveFraction:i.removeFraction,onUpdateFraction:i.updateFraction},null,8,["data","removable","onRemoveFraction","onUpdateFraction"]),t!=Object.keys(n.fractions).length-1?(Object(r["j"])(),Object(r["e"])("span",k,w)):Object(r["d"])("",!0)])})),128)),N,n.isIncorrectExpression?(Object(r["j"])(),Object(r["e"])("div",B,"?")):(Object(r["j"])(),Object(r["c"])(a,{key:1,data:n.resultExpression,removable:!1,state:"view",disabled:""},null,8,["data"]))]),Object(r["f"])("div",null,[Object(r["h"])(s,{class:"el-calculator__add-fraction",onClick:i.addFraction,disabled:i.isAddButtonDisable,dashed:""},{default:Object(r["q"])((function(){return[$]})),_:1},8,["onClick","disabled"]),Object(r["h"])(s,{class:"el-calculator__save-fraction",onClick:i.saveExpression},{default:Object(r["q"])((function(){return[C]})),_:1},8,["onClick"])])])}var q=n("7e18"),R=n.n(q),P={class:"el-fraction"},U={class:"el-fraction__remove"},A=Object(r["f"])("img",{src:R.a},null,-1),M=[A],J={class:"el-fraction__body"},T={key:0,class:"el-fraction__left"},K={key:1,class:"el-fraction__right"},z=Object(r["f"])("hr",{class:"el-fraction__delimiter"},null,-1);function G(e,t,n,o,c,i){var a=Object(r["o"])("el-input");return Object(r["j"])(),Object(r["e"])("div",P,[Object(r["f"])("div",U,[n.removable?(Object(r["j"])(),Object(r["e"])("div",{key:0,onClick:t[0]||(t[0]=function(){return i.removeFraction&&i.removeFraction.apply(i,arguments)})},M)):Object(r["d"])("",!0)]),Object(r["f"])("div",J,[i.isShowDec?(Object(r["j"])(),Object(r["e"])("div",T,Object(r["p"])(this.data.dec),1)):Object(r["d"])("",!0),i.isShowFraction?(Object(r["j"])(),Object(r["e"])("div",K,[Object(r["h"])(a,{disabled:n.disabled,value:i.numerator,onUpdate:i.updateNumerator,placeholder:"00"},null,8,["disabled","value","onUpdate"]),z,Object(r["h"])(a,{disabled:n.disabled,value:i.denominator,onUpdate:i.updateDenominator,placeholder:"00"},null,8,["disabled","value","onUpdate"])])):Object(r["d"])("",!0)])])}var H=["placeholder","value","disabled"];function L(e,t,n,o,c,i){return Object(r["j"])(),Object(r["e"])("input",{maxlength:2,placeholder:n.placeholder,onKeypress:t[0]||(t[0]=function(){return i.onlyNumber&&i.onlyNumber.apply(i,arguments)}),class:"el-input",type:"text",onInput:t[1]||(t[1]=function(){return i.handleInput&&i.handleInput.apply(i,arguments)}),value:n.value,disabled:n.disabled},null,40,H)}var Q={name:"ElInput",props:{placeholder:{type:String,default:""},value:{type:[Number,String],default:0},disabled:{type:Boolean,default:function(){return!1}}},methods:{handleInput:function(e){this.$emit("update",e.target.value)},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t&&e.preventDefault()}}};n("b16c");const V=v()(Q,[["render",L],["__scopeId","data-v-18f513c8"]]);var W=V,X={name:"fraction",components:{ElInput:W},props:{data:{type:Object,default:function(){return{id:0,dec:0,numerator:0,denominator:0}}},removable:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},state:{type:String,default:function(){return"edit"}}},computed:{isShowDec:function(){return this.data.dec>0},isShowFraction:function(){return"view"===this.state&&this.denominator>1||"edit"===this.state},numerator:function(){return this.data.numerator},denominator:function(){return this.data.denominator}},methods:{updateNumerator:function(e){this.$emit("updateFraction",{id:this.data.id,numerator:e})},updateDenominator:function(e){this.$emit("updateFraction",{id:this.data.id,denominator:e})},removeFraction:function(){this.$emit("removeFraction",this.data.id)}}};n("da3f");const Y=v()(X,[["render",G]]);var Z=Y,ee=["disabled"];function te(e,t,n,o,c,i){return Object(r["j"])(),Object(r["e"])("button",{class:Object(r["i"])(["el-button",{"el-button--dashed":n.dashed}]),disabled:n.disabled},[Object(r["n"])(e.$slots,"default",{},void 0,!0)],10,ee)}var ne={name:"ElButton",props:{dashed:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}};n("c257");const re=v()(ne,[["render",te],["__scopeId","data-v-76af7122"]]);var oe=re,ce={name:"Calculator",components:{ElButton:oe,Fraction:Z},props:{fractions:{type:Array,default:function(){return[]}},isIncorrectExpression:{type:Boolean,default:!1},resultExpression:{type:Object,default:function(){return{}}}},computed:{isAddButtonDisable:function(){return this.fractions.length>=5},isFractionsRemovable:function(){return this.fractions.length>2}},methods:{addFraction:function(){this.$emit("addFraction")},removeFraction:function(e){this.$emit("removeFraction",e)},updateFraction:function(e){this.$emit("updateFraction",e)},saveExpression:function(){this.$emit("saveExpression")}}};n("0f22");const ie=v()(ce,[["render",D]]);var ae=ie,se={class:"el-results"},le={key:0},ue={class:"el-results__item-expression"},de={key:0,class:"el-results__icon-plus"},fe=Object(r["f"])("img",{src:g.a},null,-1),pe=[fe],be=Object(r["f"])("span",{class:"el-results__icon-equal"},[Object(r["f"])("img",{src:F.a})],-1),je={key:0},me=Object(r["g"])(" Удалить "),Oe={key:1,class:"el-results__empty"};function ve(e,t,n,o,c,i){var a=Object(r["o"])("fraction"),s=Object(r["o"])("el-button");return Object(r["j"])(),Object(r["e"])("div",se,[i.isExpressions?(Object(r["j"])(),Object(r["e"])("div",le,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(n.expressions,(function(e){return Object(r["j"])(),Object(r["e"])("div",{key:e.id,class:"el-results__item"},[Object(r["f"])("div",ue,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(e.fractions,(function(t,n){return Object(r["j"])(),Object(r["e"])("div",{key:t.id,class:"el-results__fraction"},[Object(r["h"])(a,{data:t,disabled:""},null,8,["data"]),n!=Object.keys(e.fractions).length-1?(Object(r["j"])(),Object(r["e"])("span",de,pe)):Object(r["d"])("",!0)])})),128)),be,e.result?(Object(r["j"])(),Object(r["c"])(a,{key:1,data:e.result,disabled:"",state:"view"},null,8,["data"])):(Object(r["j"])(),Object(r["e"])("div",je," ? "))]),Object(r["h"])(s,{onClick:function(t){return i.removeFractionFromSaved(e.id)},class:"el-results__item-remove",dashed:""},{default:Object(r["q"])((function(){return[me]})),_:2},1032,["onClick"])])})),128))])):(Object(r["j"])(),Object(r["e"])("div",Oe,"Тут будут расчеты"))])}var he={name:"Results",components:{ElButton:oe,Fraction:Z},props:{expressions:{type:Array,default:function(){return[]}},isIncorrectExpression:{type:Boolean,default:!1}},computed:{isExpressions:function(){return this.expressions.length>0}},methods:{removeFractionFromSaved:function(e){this.$emit("removeExpression",e)}}};n("8b1a");const xe=v()(he,[["render",ve]]);var ye=xe,ge={name:"App",data:function(){return{expressions:[],fractions:[{id:new Date,numerator:"",denominator:""},{id:new Date,numerator:"",denominator:""}]}},components:{Results:ye,Calculator:ae,ElPageItem:x},computed:{isIncorrectExpression:function(){return this.fractions.some((function(e){return!Number(e.denominator)||!Number(e.numerator)}))},resultExpression:function(){var e=this.fractions.reduce((function(e,t){return t.denominator?e+Number(t.numerator)/Number(t.denominator):e}),0).toFixed(2);return{numerator:d(e).top,denominator:d(e).bottom,dec:d(e).left}}},methods:{addFraction:function(){this.fractions.length>=5||(this.fractions=[].concat(Object(l["a"])(this.fractions),[{id:new Date,numerator:"",denominator:""}]))},updateFraction:function(e){this.fractions=this.fractions.map((function(t){return t.id==e.id&&(t=Object(s["a"])(Object(s["a"])({},t),e)),t}))},removeFraction:function(e){this.fractions=this.fractions.filter((function(t){return t.id!=e}))},saveExpression:function(){this.expressions=[].concat(Object(l["a"])(this.expressions),[{id:new Date,fractions:Object(l["a"])(this.fractions),result:this.isIncorrectExpression?null:Object(s["a"])({},this.resultExpression)}]),localStorage.expressions=JSON.stringify(this.expressions)},removeExpression:function(e){this.expressions=this.expressions.filter((function(t){return t.id!=e})),localStorage.expressions=JSON.stringify(this.expressions)}},mounted:function(){this.expressions=null!=localStorage.expressions?JSON.parse(localStorage.expressions):[]}};n("2147");const _e=v()(ge,[["render",a]]);var Fe=_e;Object(r["b"])(Fe).mount("#app")},"59dd":function(e,t,n){},"7e18":function(e,t,n){e.exports=n.p+"img/remove.727994ff.svg"},"8a37":function(e,t,n){e.exports=n.p+"img/plus.09fad1f0.svg"},"8b1a":function(e,t,n){"use strict";n("b3f7")},"9c62":function(e,t,n){},b16c:function(e,t,n){"use strict";n("9c62")},b3f7:function(e,t,n){},c252:function(e,t,n){},c257:function(e,t,n){"use strict";n("3be3")},c91a:function(e,t,n){},da3f:function(e,t,n){"use strict";n("c91a")},dedd:function(e,t,n){},e58b:function(e,t,n){"use strict";n("dedd")}});
//# sourceMappingURL=app.a62a08dc.js.map